(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{4517:(e,t,a)=>{Promise.resolve().then(a.bind(a,4791))},4791:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(5155),l=a(2115);let n="localhost"===window.location.hostname?"http://localhost:8080":"";function r(){var e;let[t,a]=(0,l.useState)([]),[r,o]=(0,l.useState)([]),[c,d]=(0,l.useState)(null),[i,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null),[x,p]=(0,l.useState)(null),[b,g]=(0,l.useState)({nome:"",turma:"",matricula:"",status:""});(0,l.useEffect)(()=>{fetch("".concat(n,"/api/alunos")).then(e=>e.json()).then(a).catch(e=>d(e.message)),fetch("".concat(n,"/api/status")).then(e=>e.json()).then(o).catch(console.error)},[]);let j=e=>{h(e||{nome:"",turma:"",matricula:"",responsavel:""}),u(!0)},v=t.filter(e=>{var t,a,s,l;return(null==(t=e.nome)?void 0:t.toLowerCase().includes(b.nome.toLowerCase()))&&(null==(a=e.turma)?void 0:a.toLowerCase().includes(b.turma.toLowerCase()))&&(null==(s=e.matricula)?void 0:s.toLowerCase().includes(b.matricula.toLowerCase()))&&(""===b.status||(null==(l=e.status)?void 0:l.descricao)===b.status)});return(0,s.jsxs)("main",{className:"p-10 font-sans min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,s.jsxs)("div",{className:"max-w-5xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,s.jsxs)("header",{className:"bg-blue-600 text-white p-6 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-wide",children:"\uD83D\uDCDA Lista de Alunos"}),(0,s.jsx)("button",{onClick:()=>j(),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-all",children:"+ Cadastrar Aluno"})]}),x&&(0,s.jsx)("div",{className:"text-center bg-green-100 text-green-700 py-2 font-medium",children:x}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-4 bg-blue-50 border-b",children:[(0,s.jsx)("input",{placeholder:"Filtrar por nome",className:"p-2 rounded border",value:b.nome,onChange:e=>g({...b,nome:e.target.value})}),(0,s.jsx)("input",{placeholder:"Filtrar por turma",className:"p-2 rounded border",value:b.turma,onChange:e=>g({...b,turma:e.target.value})}),(0,s.jsx)("input",{placeholder:"Filtrar por matr\xedcula",className:"p-2 rounded border",value:b.matricula,onChange:e=>g({...b,matricula:e.target.value})}),(0,s.jsxs)("select",{className:"p-2 rounded border",value:b.status,onChange:e=>g({...b,status:e.target.value}),children:[(0,s.jsx)("option",{value:"",children:"Todos os Status"}),r.map(e=>(0,s.jsx)("option",{value:e.descricao,children:e.descricao},e.id))]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-blue-100 text-blue-800",children:[(0,s.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"ID"}),(0,s.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Nome"}),(0,s.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Turma"}),(0,s.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Respons\xe1vel"}),(0,s.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Matr\xedcula"}),(0,s.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Status"}),(0,s.jsx)("th",{className:"p-4 text-center text-sm font-semibold",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:v.map((e,t)=>{var a;return(0,s.jsxs)("tr",{className:"transition-colors ".concat(t%2==0?"bg-white":"bg-blue-50"," hover:bg-blue-100"),children:[(0,s.jsx)("td",{className:"p-4",children:e.id}),(0,s.jsx)("td",{className:"p-4",children:e.nome}),(0,s.jsx)("td",{className:"p-4",children:e.turma}),(0,s.jsx)("td",{className:"p-4",children:e.responsavel}),(0,s.jsx)("td",{className:"p-4",children:e.matricula}),(0,s.jsx)("td",{className:"p-4",children:(null==(a=e.status)?void 0:a.descricao)||"—"}),(0,s.jsx)("td",{className:"p-4 text-center",children:(0,s.jsx)("button",{onClick:()=>j(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md transition-all",children:"Editar"})})]},e.id)})})]})})]}),i&&m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-xl w-96",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:m.id?"Editar Aluno":"Cadastrar Aluno"}),(0,s.jsx)("input",{className:"w-full mb-3 p-2 border rounded",placeholder:"Nome",value:m.nome,onChange:e=>h({...m,nome:e.target.value})}),(0,s.jsx)("input",{className:"w-full mb-3 p-2 border rounded",placeholder:"Turma",value:m.turma,onChange:e=>h({...m,turma:e.target.value})}),(0,s.jsx)("input",{className:"w-full mb-3 p-2 border rounded",placeholder:"Respons\xe1vel",value:m.responsavel||"",onChange:e=>h({...m,responsavel:e.target.value})}),(0,s.jsx)("input",{className:"w-full mb-3 p-2 border rounded",placeholder:"Matr\xedcula",value:m.matricula||"",onChange:e=>h({...m,matricula:e.target.value})}),(0,s.jsxs)("select",{className:"w-full mb-3 p-2 border rounded",value:(null==(e=m.status)?void 0:e.id)||"",onChange:e=>{let t=r.find(t=>t.id===Number(e.target.value));h({...m,status:t})},children:[(0,s.jsx)("option",{value:"",children:"Selecione o status"}),r.map(e=>(0,s.jsx)("option",{value:e.id,children:e.descricao},e.id))]}),(0,s.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,s.jsx)("button",{onClick:()=>{if(!m)return;let e=m.id?"PUT":"POST";fetch(m.id?"".concat(n,"/api/alunos/").concat(m.id):"".concat(n,"/api/alunos"),{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(()=>(u(!1),p(m.id?"✅ Aluno atualizado com sucesso!":"\uD83C\uDF89 Aluno cadastrado com sucesso!"),setTimeout(()=>p(null),4e3),fetch("".concat(n,"/api/alunos")).then(e=>e.json()))).then(a).catch(e=>d(e.message))},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:"Salvar"}),(0,s.jsx)("button",{onClick:()=>u(!1),className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded",children:"Cancelar"})]})]})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4517)),_N_E=e.O()}]);