(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{4517:(e,a,s)=>{Promise.resolve().then(s.bind(s,4791))},4791:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var l=s(5155),t=s(2115);let o="localhost"===window.location.hostname?"http://localhost:8080":"";function r(){var e;let[a,s]=(0,t.useState)([]),[r,n]=(0,t.useState)([]),[d,i]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[x,p]=(0,t.useState)(null),[b,g]=(0,t.useState)(null),[v,j]=(0,t.useState)({nome:"",turma:"",matricula:"",status:""});(0,t.useEffect)(()=>{fetch("".concat(o,"/api/alunos")).then(e=>e.json()).then(s).catch(e=>i(e.message)),fetch("".concat(o,"/api/status")).then(e=>e.json()).then(n).catch(console.error)},[]);let N=a.filter(e=>{var a,s,l,t;return(null==(a=e.nome)?void 0:a.toLowerCase().includes(v.nome.toLowerCase()))&&(null==(s=e.turma)?void 0:s.toLowerCase().includes(v.turma.toLowerCase()))&&(null==(l=e.matricula)?void 0:l.toLowerCase().includes(v.matricula.toLowerCase()))&&(""===v.status||(null==(t=e.status)?void 0:t.descricao)===v.status)});return(0,l.jsxs)("main",{className:"p-10 font-sans min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,l.jsxs)("div",{className:"max-w-6xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,l.jsx)("header",{className:"bg-blue-600 text-white p-6 flex justify-between items-center",children:(0,l.jsx)("h1",{className:"text-2xl font-bold tracking-wide",children:"\uD83D\uDCDA Lista de Alunos"})}),b&&(0,l.jsx)("div",{className:"text-center bg-green-100 text-green-700 py-2 font-medium",children:b}),(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-4 bg-blue-50 border-b",children:[(0,l.jsx)("input",{placeholder:"Filtrar por nome",className:"p-2 rounded border",value:v.nome,onChange:e=>j({...v,nome:e.target.value})}),(0,l.jsx)("input",{placeholder:"Filtrar por turma",className:"p-2 rounded border",value:v.turma,onChange:e=>j({...v,turma:e.target.value})}),(0,l.jsx)("input",{placeholder:"Filtrar por matr\xedcula",className:"p-2 rounded border",value:v.matricula,onChange:e=>j({...v,matricula:e.target.value})}),(0,l.jsxs)("select",{className:"p-2 rounded border",value:v.status,onChange:e=>j({...v,status:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"Todos os Status"}),r.map(e=>(0,l.jsx)("option",{value:e.descricao,children:e.descricao},e.id))]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-blue-100 text-blue-800",children:[(0,l.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"ID"}),(0,l.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Nome"}),(0,l.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Turma"}),(0,l.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Respons\xe1vel"}),(0,l.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Matr\xedcula"}),(0,l.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Status"}),(0,l.jsx)("th",{className:"p-4 text-center text-sm font-semibold",children:"A\xe7\xf5es"})]})}),(0,l.jsx)("tbody",{children:N.map((e,a)=>{var s;return(0,l.jsxs)("tr",{className:"transition-colors ".concat(a%2==0?"bg-white":"bg-blue-50"," hover:bg-blue-100"),children:[(0,l.jsx)("td",{className:"p-4",children:e.id}),(0,l.jsx)("td",{className:"p-4",children:e.nome}),(0,l.jsx)("td",{className:"p-4",children:e.turma}),(0,l.jsx)("td",{className:"p-4",children:e.responsavel}),(0,l.jsx)("td",{className:"p-4",children:e.matricula}),(0,l.jsx)("td",{className:"p-4",children:(null==(s=e.status)?void 0:s.descricao)||"—"}),(0,l.jsx)("td",{className:"p-4 text-center",children:(0,l.jsx)("button",{onClick:()=>{p(e),h(!1),u(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-md transition-all",children:"Visualizar"})})]},e.id)})})]})})]}),c&&x&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white w-[900px] rounded-xl shadow-2xl p-8 max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:"\uD83E\uDDFE Dados do Aluno"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"col-span-1 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-40 h-40 bg-gray-200 rounded-full mb-4 flex items-center justify-center text-gray-500",children:"Foto"}),(0,l.jsx)("h3",{className:"font-semibold text-lg",children:x.nome}),(0,l.jsx)("p",{className:"text-gray-600",children:x.dataNascimento||"Idade n\xe3o informada"})]}),(0,l.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-600 mb-2",children:"Informa\xe7\xf5es do Aluno"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Nome",value:x.nome||"",disabled:!m,onChange:e=>p({...x,nome:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Data de nascimento",value:x.dataNascimento||"",disabled:!m,onChange:e=>p({...x,dataNascimento:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Matr\xedcula",value:x.matricula||"",disabled:!m,onChange:e=>p({...x,matricula:e.target.value})}),(0,l.jsxs)("select",{className:"p-2 border rounded",value:(null==(e=x.status)?void 0:e.id)||"",disabled:!m,onChange:e=>{let a=r.find(a=>a.id===Number(e.target.value));p({...x,status:a})},children:[(0,l.jsx)("option",{value:"",children:"Selecione o status"}),r.map(e=>(0,l.jsx)("option",{value:e.id,children:e.descricao},e.id))]})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-600 mb-2",children:"Acad\xeamico"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Turma",value:x.turma||"",disabled:!m,onChange:e=>p({...x,turma:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Per\xedodo",value:x.periodo||"",disabled:!m,onChange:e=>p({...x,periodo:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Ano",value:x.ano||"",disabled:!m,onChange:e=>p({...x,ano:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Hor\xe1rio",value:x.horario||"",disabled:!m,onChange:e=>p({...x,horario:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Professora",value:x.professora||"",disabled:!m,onChange:e=>p({...x,professora:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Auxiliar",value:x.auxiliar||"",disabled:!m,onChange:e=>p({...x,auxiliar:e.target.value})})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-600 mb-2",children:"Respons\xe1vel Pedag\xf3gico"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Nome",value:x.responsavelPedagogico||"",disabled:!m,onChange:e=>p({...x,responsavelPedagogico:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Parentesco",value:x.parentesco||"",disabled:!m,onChange:e=>p({...x,parentesco:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"E-mail",value:x.emailResponsavel||"",disabled:!m,onChange:e=>p({...x,emailResponsavel:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Telefone 1",value:x.telefone1||"",disabled:!m,onChange:e=>p({...x,telefone1:e.target.value})}),(0,l.jsx)("input",{className:"p-2 border rounded",placeholder:"Telefone 2",value:x.telefone2||"",disabled:!m,onChange:e=>p({...x,telefone2:e.target.value})})]})]}),(0,l.jsxs)("div",{className:"flex justify-between mt-6",children:[m?(0,l.jsx)("button",{onClick:()=>{x&&fetch("".concat(o,"/api/alunos/").concat(x.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}).then(()=>(g("✅ Dados do aluno atualizados com sucesso!"),h(!1),setTimeout(()=>g(null),3e3),fetch("".concat(o,"/api/alunos")).then(e=>e.json()))).then(s).catch(e=>i(e.message))},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md",children:"Salvar"}):(0,l.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"Editar"}),(0,l.jsx)("button",{onClick:()=>u(!1),className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-md",children:"Fechar"})]})]})]})]})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4517)),_N_E=e.O()}]);